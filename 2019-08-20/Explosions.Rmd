---
   title: "Explosions"
   author: "Joel Soroos"
   date: "August 27, 2019"
   output: pdf_document
---

### 1a. Source nuclear explosion data
```{r source, warning = TRUE, results = FALSE, message = FALSE}

   library (tidyverse)
   library (janitor) 

   explosions_raw <- readr::read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-08-20/nuclear_explosions.csv") %>%
      clean_names ()
```
   

### 2.  Transform UFO data
```{r transform, message = F}

   explosions <- explosions_raw %>%
      filter (year < 1975) %>%
      group_by (year) %>%
      count (country) %>%
      mutate(rank = rank(n)) %>%
      ungroup
```

### 3. Visualize data
```{r plot}

   library (gganimate)
   library (gifski)
   library (png)

   g <- ggplot () +
      geom_col (position = "identity",
         data = explosions, 
         aes(x = reorder(country,rank), y = rank)
         ) +
      coord_flip () +
      transition_states(year, transition_length = 8, state_length = 6) +
      labs(
         title = 'GDP per Year : {closest_state}'
       )
   
      animate(g, 20, fps = 2,  width = 1200, height = 1000, 
        renderer = gifski_renderer("explosions.gif"))

```
